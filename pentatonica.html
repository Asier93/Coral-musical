<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
    <!-- For Chrome, Edge, and other browsers -->
    <meta name="theme-color" content="#ffffff" />

    <!-- For Firefox -->
    <meta name="theme-color" content="#ffffff" />
    <meta name="color:toolbar" content="#ffffff" />
    <title>Coral Musical</title>
    <link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="./js/sonido.js"></script>
    <script src="https://unpkg.com/howler@2.2.4/dist/howler.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.rawgit.com/etiennepinchon/aframe-bubble/master/dist/aframe-bubble.min.js"></script>    
  </head>
  <body>
     <!-- Menú de navegación -->
<!-- Botón del menú hamburguesa -->
<!-- <button id="menu-button">☰</button> -->

<div id="menu" style="position: absolute; z-index: 1; top: 10px; left: 10px;">
  <a href="index.html">Inicio</a> |
  <a href="#">Pentatónica</a>
</div>
    <a-scene cursor="rayOrigin: mouse">
      <a-assets>
        <img src="./assets/textures/discotecacoral.jpg" id="skybox" alt="Fondo de arena" />
        <!-- Definir el mixin con el componente particle-system -->
        <a-mixin id="bubble-particles" particle-system="color: #FFFFFF; preset: points; blending: additive; particleCount: 500; maxAge: 10; velocityValue: 0.1 0.5 0.1; velocitySpread: 0.05 0.05 0.05; radius: 1;"></a-mixin>
      </a-assets>

      <!-- Skybox -->
      <a-sky src="#skybox" rotation="0 270 0"></a-sky>

      <!-- marimba -->
      <a-entity
        id="coralmoradomarimba"
        scale="1 1 1"
        position="-2 -32 5.5"
        class="instrument"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/coralmoradomarimba.glb?v=1705931877526"
      >
      <a-entity mixin="bubble-particles" position="0 2 -5"></a-entity>
      </a-entity>

      <!-- vientos -->
      <a-entity
        id="tuba"
        scale="10 11 9"
        position="4.3 2.2 -4.5"
        class="instrument"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/coralamarillotuba.glb?v=1705931875983"
        data-audio="./assets/audio/tuba.mp3"
        animation__mouseover="property: scale; to: 10.5 11.5 9.5; dur: 200; startEvents: mouseenter; pauseEvents: click"
        animation__mouseleave="property: scale; to: 10 11 9; dur: 200; startEvents: mouseleave; pauseEvents: click"
        event-set__click="_event: click; animation__clickstart: property: scale; to: 11 12 10; dur: 200; startEvents: click; pauseEvents: click; animation__clickend: property: scale; to: 10 11 9; dur: 200; startEvents: click; pauseEvents: click"
        ></a-entity>

      <a-entity
        id="oboe"
        scale="2 2 2"
        position="0 2 -1"
        class="instrument"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/algaprincipalflauta.glb?v=1705931872742"
        data-audio="./assets/audio/oboe.mp3"
        animation="property: position; to: 0 2.3 -1"
        animation__mouseover="property: scale; to: 2.2 2.2 2.2; dur: 200; startEvents: mouseenter; pauseEvents: click"
        animation__mouseleave="property: scale; to: 2 2 2; dur: 200; startEvents: mouseleave; pauseEvents: click"
        event-set__click="_event: click; animation__clickstart: property: scale; to: 2.5 2.5 2.5; dur: 200; startEvents: click; pauseEvents: click; animation__clickend: property: scale; to: 2 2 2; dur: 200; startEvents: click; pauseEvents: click"
        ></a-entity>

      <a-entity
        id="flauta"
        scale=".5 .5 .5"
        position="-1.5 -1.5 3"
        rotation="0 0 0"
        class="instrument"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/seahorsedirector.glb?v=1705931878932"
        data-audio="./assets/audio/flauta.mp3"
        animation__mouseover="property: scale; to: 0.52 0.52 0.52; dur: 200; startEvents: mouseenter; pauseEvents: click"
        animation__mouseleave="property: scale; to: .5 .5 .5; dur: 200; startEvents: mouseleave; pauseEvents: click"
        event-set__click="_event: click; animation__clickstart: property: scale; to: .55 .55 .55; dur: 200; startEvents: click; pauseEvents: click; animation__clickend: property: scale; to: 1 1 1; dur: 200; startEvents: click; pauseEvents: click"
      ></a-entity>

      <!-- cuerdas -->
      <a-entity
        id="arpa"
        scale="30 40 11"
        position="15 5 0"
        class="instrument"
        gltf-model="https://cdn.glitch.global/8f1284bb-9412-41f0-9d25-acd4c21d36b9/coralrosaarpa.glb?v=1705931878331"
        animation__mouseover="property: scale; to: 30.2 40.2 11.2; dur: 200; startEvents: mouseenter; pauseEvents: click"
        animation__mouseleave="property: scale; to: 31 41 11; dur: 200; startEvents: mouseleave; pauseEvents: click"
        event-set__click="_event: click; animation__clickstart: property: scale; to: 30.5 40.5 11.5; dur: 200; startEvents: click; pauseEvents: click; animation__clickend: property: scale; to: 31 31 31; dur: 200; startEvents: click; pauseEvents: click"
      ></a-entity>

      <a-entity
        id="contrabajo"
        scale="0.1 0.1 0.1"
        position="7 0 1"
        class="instrument"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/anemonacontrabajo.glb?v=1705931874694"
        data-audio="./assets/audio/contrabajo.mp3"
        animation__mouseover="property: scale; to: 0.12 0.12 0.12; dur: 200; startEvents: mouseenter; pauseEvents: click"
        animation__mouseleave="property: scale; to: 0.11 0.11 0.11; dur: 200; startEvents: mouseleave; pauseEvents: click"
        event-set__click="_event: click; animation__clickstart: property: scale; to: .15 .15 .15; dur: 200; startEvents: click; pauseEvents: click; animation__clickend: property: scale; to: .15 .15 .15; dur: 200; startEvents: click; pauseEvents: click"
      ></a-entity>

      <a-entity
        id="violoncello"
        scale="0.03 0.03 0.03"
        position="1.7 0 4.8"
        class="instrument"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/anemonalilavioloncello.glb?v=1705931875034"
        data-audio="./assets/audio/violonchelo.mp3"
        animation__mouseover="property: scale; to: 0.032 0.032 0.032; dur: 200; startEvents: mouseenter; pauseEvents: click"
        animation__mouseleave="property: scale; to: 0.031 0.031 0.031; dur: 200; startEvents: mouseleave; pauseEvents: click"
        event-set__click="_event: click; animation__clickstart: property: scale; to: .035 .035 .035; dur: 200; startEvents: click; pauseEvents: click; animation__clickend: property: scale; to: .031 .031 .031; dur: 200; startEvents: click; pauseEvents: click"
      ></a-entity>

      <a-entity
        id="violin"
        scale="3 3 3"
        position="-5 1.5 3.5"
        class="instrument"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/coralrojoviolin.glb?v=1705931877928"
        data-audio="./assets/audio/violin.mp3"
        animation__mouseover="property: scale; to: 3.2 3.2 3.2; dur: 200; startEvents: mouseenter; pauseEvents: click"
        animation__mouseleave="property: scale; to: 3.1 3.1 3.1; dur: 200; startEvents: mouseleave; pauseEvents: click"
        event-set__click="_event: click; animation__clickstart: property: scale; to: 3.5 3.5 3.5; dur: 200; startEvents: click; pauseEvents: click; animation__clickend: property: scale; to: 3.1 3.1 3.1; dur: 200; startEvents: click; pauseEvents: click"
      >
      <a-entity mixin="bubble-particles" position="3 2 -5"></a-entity>
      </a-entity>

      <a-entity
        id="viola"
        scale=".5 .5 .5"
        position="-5 0 -2"
        class="instrument"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/anemonacampanastubulares.glb?v=1705931874189"
        data-audio="./assets/audio/viola.mp3"
        animation__mouseover="property: scale; to: .52 .52 .52; dur: 200; startEvents: mouseenter; pauseEvents: click"
        animation__mouseleave="property: scale; to: .51 .51 .51; dur: 200; startEvents: mouseleave; pauseEvents: click"
        event-set__click="_event: click; animation__clickstart: property: scale; to: .55 .55 .55; dur: 200; startEvents: click; pauseEvents: click; animation__clickend: property: scale; to: .51 .51 .51; dur: 200; startEvents: click; pauseEvents: click"
      >
        ></a-entity>

     
      <!-- Componentes para interactividad -->
      <!-- Cámara con controles de mirada y teclado-->
      <!-- Camera User View 2 Height -->
      <a-entity id="cameraRig" position="0 6 8" rotation="-25 0 0">
        <a-entity
          id="head"
          position="0 0 0"
          camera="userHeight:1.6"
          rotation="0 0 0"
          data-aframe-inspector-original-camera
          look-controls="pointerLockEnabled:true"
        >
          <!-- Cursor con mirilla (anillo) -->
          <a-entity cursor="rayOrigin: mouse">
            <a-ring
              position="0 0 -1"
              scale="0.02 0.02 0.02"
              color="yellow"
              id="cursorRing"
              animation="property: scale; to: 0.04 0.04 0.04; loop: true; dur: 1000"
            ></a-ring>
          </a-entity>

          <a-entity
            position="0.1 -0.1 0"
            touch-listener
            teleport-controls="cameraRig: #cameraRig;
         teleportOrigin: #head;
         startEvents:starttouch;
         endEvents:endtouch;
         curveShootingSpeed:15;
         hitCylinderRadius:1;
         collisionEntities: [ground]"
          ></a-entity>
        </a-entity>
      </a-entity>
    </a-scene>
    
    <!-- <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('menu-button').addEventListener('click', function() {
          var menu = document.getElementById('menu');
          menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
        });
      });
    </script> -->
  
  </body>
</html>
